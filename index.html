<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–†–∞—Å—Å—Ä–æ—á–∫–∞ ‚Äî –ö–æ–º–ø–∞–Ω–∏—è "–§–∏–Ω–≠–∫—Å–ø–µ—Ä—Ç"</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      background: #f5f6f7;
      color: #333;
    }

    header, footer {
      background: #004aad;
      color: white;
      padding: 15px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    header img, footer img {
      height: 40px;
      margin-right: 10px;
    }

    header .title, footer .title {
      display: flex;
      align-items: center;
      font-size: 20px;
      font-weight: bold;
    }

    main {
      max-width: 800px;
      margin: 40px auto;
      background: white;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    h2 {
      text-align: center;
      color: #004aad;
    }

    label {
      display: block;
      margin-top: 15px;
      font-weight: bold;
    }

    input, select {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      border-radius: 4px;
      border: 1px solid #ccc;
      font-size: 14px;
    }

    input[type=number]::-webkit-inner-spin-button,
    input[type=number]::-webkit-outer-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }

    input[type=range] {
      width: 100%;
      margin-top: 10px;
    }


    .resultValues {
	  font-size: 48px;
    }
	
    .results {
      margin-top: 25px;
      background: #f0f8ff;
      padding: 15px;
      border-radius: 8px;
	  font-size: 24px;
    }

    .btn {
      display: inline-block;
      background: #004aad;
      color: white;
      padding: 12px 25px;
      border: none;
      border-radius: 5px;
      margin-top: 20px;
      cursor: pointer;
      font-size: 16px;
    }

    .btn:hover {
      background: #003c8a;
    }

    .info-block {
      margin: 40px 0;
      font-size: 15px;
      line-height: 1.6;
      text-align: center;
    }

    .contacts {
      background: #f1f1f1;
      padding: 20px;
      text-align: center;
    }

    .contacts p {
      margin: 8px 0;
    }

    .modal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.5);
      justify-content: center;
      align-items: center;
    }

    .modal-content {
      background: white;
      padding: 25px;
      border-radius: 8px;
      width: 350px;
      position: relative;
    }

    .close {
      position: absolute;
      top: 10px;
      right: 15px;
      cursor: pointer;
      font-size: 20px;
    }

    iframe {
      width: 100%;
      height: 350px;
      border: none;
      border-radius: 8px;
      margin: 40px 0;
    }
  </style>
</head>
<body>

<header>
  <div class="title">
    <img src="https://upload.wikimedia.org/wikipedia/commons/a/a7/React-icon.svg" alt="–õ–æ–≥–æ—Ç–∏–ø">
    –§–∏–Ω–≠–∫—Å–ø–µ—Ä—Ç
  </div>
  <div class="phone">üìû +7 (900) 123-45-67</div>
</header>

<main>
  <h2>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ä–∞—Å—Å—Ä–æ—á–∫–∏</h2>

  <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</label>
  <select id="category">
    <option>–¢–æ–≤–∞—Ä—ã</option>
    <option>–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å</option>
    <option>–ë–∏–∑–Ω–µ—Å</option>
    <option>–ê–≤—Ç–æ</option>
    <option>–î—Ä—É–≥–æ–µ</option>
  </select>

  <label>–ù—É–∂–Ω–∞—è —Å—É–º–º–∞ (‚ÇΩ):</label>
  <input type="number" id="amount" min="500" max="1000000" step="500" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É" inputmode="numeric">
  <input type="range" id="amountSlider" min="500" max="1000000" step="500">

  <label>–ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã–π –≤–∑–Ω–æ—Å (‚ÇΩ):</label>
  <input type="number" id="downPayment" min="0" max="1000000" step="500" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∑–Ω–æ—Å" inputmode="numeric">
  <input type="range" id="downSlider" min="0" max="1000000" step="500">

  <label>–°—Ä–æ–∫ —Ä–∞—Å—Å—Ä–æ—á–∫–∏ (–º–µ—Å.):</label>
  <input type="number" id="months" min="3" max="12" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ—Å—è—Ü–µ–≤" inputmode="numeric">
  <input type="range" id="monthsSlider" min="3" max="12" step="1">
  <button class="btn" onclick="calculate()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>

  <div class="results">
    <p>–í—Å–µ–≥–æ: <br><div class="resultValues"><b id="total">‚Äî</b> ‚ÇΩ</p></div>
    <p>–ï–∂–µ–º–µ—Å—è—á–Ω—ã–π –ø–ª–∞—Ç—ë–∂: <br><div class="resultValues"><b id="monthly">‚Äî</b> ‚ÇΩ</p></div>
    <p>–ù–∞—Ü–µ–Ω–∫–∞ –≤ –º–µ—Å—è—Ü: <div class="resultValues"><b id="interest">‚Äî</b> %<br><b id="interestCount">‚Äî</b> ‚ÇΩ</p></div>
  </div>

  <div class="info-block">
    <p>–ú—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º —É–¥–æ–±–Ω—ã–µ –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è —Ä–∞—Å—Å—Ä–æ—á–∫–∏ –¥–ª—è —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö –∏ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö –ª–∏—Ü.  
    –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é, —Ä–∞—Å—Å—á–∏—Ç–∞–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –ø–æ–¥–∞–π—Ç–µ –∑–∞—è–≤–∫—É –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å!</p>
    <button class="btn" onclick="openModal()">–û—Ñ–æ—Ä–º–∏—Ç—å —Ä–∞—Å—Å—Ä–æ—á–∫—É</button>
  </div>

  <iframe src="https://yandex.ru/map-widget/v1/?um=constructor%3A87cd0973e8fa2ab73dd2c6bda172bd2337dc39022bb4d35ebac462381f92f1c7&amp;source=constructor" allowfullscreen></iframe>
</main>

<div class="contacts">
  <h3>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h3>
  <p>üìß info@finexpert.ru</p>
  <p>üí¨ WhatsApp: +7 (900) 123-45-67</p>
  <p>üì± Telegram: @finexpert</p>
  <p>üìû +7 (900) 123-45-67</p>
</div>

<footer>
  <div class="title">
    <img src="https://upload.wikimedia.org/wikipedia/commons/a/a7/React-icon.svg" alt="–õ–æ–≥–æ—Ç–∏–ø">
    –§–∏–Ω–≠–∫—Å–ø–µ—Ä—Ç
  </div>
  <div class="phone">üìû +7 (900) 123-45-67</div>
</footer>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ -->
<div class="modal" id="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal()">&times;</span>
    <h3>–ó–∞—è–≤–∫–∞ –Ω–∞ —Ä–∞—Å—Å—Ä–æ—á–∫—É</h3>

    <label>–ò–º—è *</label>
    <input type="text" id="name">

    <label>–¢–µ–ª–µ—Ñ–æ–Ω *</label>
    <input type="tel" id="phone">

    <label>–ü–æ—á—Ç–æ–≤—ã–π –∞–¥—Ä–µ—Å</label>
    <input type="text" id="email">

    <label>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</label>
    <textarea id="message" rows="3" style="width:100%;"></textarea>

    <button class="btn" onclick="submitForm()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
  </div>
</div>

<script>

const amountInput = document.getElementById('amount');
const amountSlider = document.getElementById('amountSlider');
const downInput = document.getElementById('downPayment');
const downSlider = document.getElementById('downSlider');
const monthsInput = document.getElementById('months');
const monthsSlider = document.getElementById('monthsSlider');



monthsSlider.value = 6;
months.value = 6;
amountInput.value = 100000;
amountSlider.value = 100000;
downInput.value = 29500;
downSlider.value = 29500;

calculate();

monthsInput.addEventListener('input', () => {
  let val = parseInt(monthsInput.value) || 0;
  if (val < 0) val = 3;
  if (val > 12) val = 12;
  monthsSlider.value = val;
});

monthsSlider.addEventListener('input', () => {
  let val = parseInt(monthsSlider.value);
  if (val > 12) val = 12;
  months.value = val;
});

amountInput.addEventListener('input', () => {
  let val = parseInt(amountInput.value) || 0;
  if (val < 0) val = 0;
  if (val > 1000000) val = 1000000;
  amountInput.value = val;
  amountSlider.value = val;
  
  // –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –≤–∑–Ω–æ—Å –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—É–º–º—ã
  if (parseInt(downInput.value) > val) {
    downInput.value = val;
    downSlider.value = val;
  }
});

amountSlider.addEventListener('input', () => {
  const val = parseInt(amountSlider.value);
  amountInput.value = val;

  // –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –≤–∑–Ω–æ—Å –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—É–º–º—ã
  if (parseInt(downInput.value) > val) {
    downInput.value = val;
    downSlider.value = val;
  }
});

downInput.addEventListener('input', () => {
  let val = parseInt(downInput.value) || 0;
  const max = parseInt(amountInput.value) || 0;
  if (val < 0) val = 0;
  if (val > max) val = max;
  downInput.value = val;
  downSlider.value = val;
});

downSlider.addEventListener('input', () => {
  const max = parseInt(amountInput.value) || 0;
  let val = parseInt(downSlider.value);
  if (val > max) val = max;
  downInput.value = val;
  downSlider.value = val;
});

function calculate() {

  let downInterest = new Map([
    [3, 9],
    [4, 12],
    [5, 15],
	[6, 18],
	[7, 20.5],
    [8, 23],
    [9, 25.5],
	[10, 28],
	[11, 30.5],
	[12, 33]
  ]);

  let noDownInterest = new Map([
    [3, 12],
    [4, 16],
    [5, 20],
	[6, 24],
	[7, 27],
    [8, 30],
    [9, 33],
	[10, 36],
	[11, 39],
	[12, 42]
  ]);

  const amount = parseFloat(amountInput.value) || 0;
  const down = parseFloat(downInput.value) || 0;
  const months = parseInt(document.getElementById('months').value) || 0;

  if (months < 3 || months > 12 || amount <= 0) {
    alert('–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ! (–°—Ä–æ–∫ –æ—Ç 3 –¥–æ 12 –º–µ—Å, —Å—É–º–º–∞ > 0)');
    return;
  }

	let interestRate = 0;
  if (down > 0) {
  interestRate = downInterest.get(months) / 100;
  } else {
  interestRate = noDownInterest.get(months) / 100;
  }

  const base = amount - down;
  const markup = interestRate;
  // –†–∞—Å—á—ë—Ç –æ–±—â–µ–π —Å—É–º–º—ã —Å –Ω–∞—Ü–µ–Ω–∫–æ–π
  const totalCost = amount * (1 + markup);

  // –†–∞—Å—á—ë—Ç –æ—Å—Ç–∞—Ç–∫–∞ –∫ –æ–ø–ª–∞—Ç–µ –ø–æ—Å–ª–µ –≤—ã—á–µ—Ç–∞ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –≤–∑–Ω–æ—Å–∞
  const remainingAmount = totalCost - down;

  // –†–∞—Å—á—ë—Ç –µ–∂–µ–º–µ—Å—è—á–Ω–æ–≥–æ –ø–ª–∞—Ç–µ–∂–∞
  const monthlyPayment = remainingAmount / months;

  const interestCount = (amount * markup) / months;
  
  const interestPerMonth = (interestCount / amount) * 100;

  document.getElementById('total').innerText = totalCost;
  document.getElementById('monthly').innerText = monthlyPayment;
  document.getElementById('interest').innerText = interestPerMonth.toFixed(2);
  document.getElementById('interestCount').innerText = interestCount;
}

function openModal() {
  document.getElementById('modal').style.display = 'flex';
}

function closeModal() {
  document.getElementById('modal').style.display = 'none';
}

function submitForm() {
  const name = document.getElementById('name').value.trim();
  const phone = document.getElementById('phone').value.trim();

  if (!name || !phone) {
    alert('–ü–æ–ª—è –ò–º—è –∏ –¢–µ–ª–µ—Ñ–æ–Ω –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã!');
    return;
  }

  alert('–°–ø–∞—Å–∏–±–æ! –í–∞—à–∞ –∑–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞.');
  closeModal();
}
</script>


</body>
</html>
